"use strict";var e=require("../../common/vendor.js");const n={data:()=>({id:null,userName:"",onLogin:null}),onLoad(){this.getUserInfo()},onShow(){this.getUserInfo()},methods:{loginInfo(){!0===this.onLogin?e.index.navigateTo({url:"/pages/ucenter/account/account"}):e.index.navigateTo({url:"/pages/ucenter/login/login"})},getUserInfo(){let n=e.index.getStorageSync("token");n?e.pn.callFunction({name:"fun",data:{api:"getUserInfo",token:n}}).then((e=>{if(!e.result.success)throw Error(e.result.errorMessage);this.onLogin=!0;let n=e.result.data;this.id=n.id,this.userName=n.userName})).catch((e=>{console.log(e),this.onLogin=!1})):this.onLogin=!1}}};if(!Array){(e.resolveComponent("uni-list-item")+e.resolveComponent("uni-list"))()}Math||((()=>"../../uni_modules/uni-list/components/uni-list-item/uni-list-item.js")+(()=>"../../uni_modules/uni-list/components/uni-list/uni-list.js"))();var t=e._export_sfc(n,[["render",function(n,t,o,i,s,r){return e.e({a:null===s.onLogin},null===s.onLogin?{}:!0===s.onLogin?e.e({c:e.t(s.userName),d:s.id},s.id?{e:e.t(s.id)}:{}):{},{b:!0===s.onLogin,f:e.o((e=>r.loginInfo())),g:e.p({title:"铸星",link:!0,to:"/pages/ucenter/creation/creation"}),h:e.p({title:"留言板",link:!0,to:"/pages/ucenter/messageBoard/messageBoard"}),i:e.p({title:"关于星梦",link:!0,to:"/pages/ucenter/about/about"})})}]]);wx.createPage(t);
